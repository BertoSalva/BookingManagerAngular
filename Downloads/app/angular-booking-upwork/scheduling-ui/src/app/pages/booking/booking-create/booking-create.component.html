<form #form="ngForm" (ngSubmit)="submit()">
  <div class="grid">
    <div class="col-12">
      <div ngClass="card br-0">
        <h3>Booking Request Update @if (model.requestID > 0 ) { - {{ model.requestID }} }</h3>
        <div class="p-fluid p-formgrid grid mt-2">
          <div class="field col-12 md:col-4">
            <span class="p-float-label">
              <p-dropdown
                id="childID"
                inputId="childID"
                name="childID"
                [options]="childs"
                [showClear]="true"
                [(ngModel)]="model.childID"
                optionLabel="name"
                optionValue="id"
                #childID="ngModel"
                [required]="true"
              ></p-dropdown>
              <label for="childID">Child <span class="p-error">*</span></label>
            </span>
            <small
              class="p-error block"
              *ngIf="(childID.touched || form.submitted) && childID.invalid"
            >
              Please select Child</small
            >
          </div>
          <div class="field col-12 md:col-4">
            <span class="p-float-label">
              <p-dropdown
                id="psychologistID"
                inputId="psychologistID"
                name="psychologistID"
                [options]="psychologists"
                [showClear]="true"
                [(ngModel)]="model.psychologistID"
                optionLabel="name"
                optionValue="id"
                #psychologistID="ngModel"
                [required]="true"
              ></p-dropdown>
              <label for="psychologistID">Psychologist <span class="p-error">*</span></label>
            </span>
            <small
              class="p-error block"
              *ngIf="(psychologistID.touched || form.submitted) && psychologistID.invalid"
            >
              Please select Psychologist</small
            >
          </div>
          <div class="field col-12 md:col-4">
            <span class="p-float-label">
              <p-calendar
                id="preferredDateTime"
                inputId="preferredDateTime"
                name="preferredDateTime"
                [showIcon]="true"
                [showTime]="true"
                [(ngModel)]="model.preferredDateTime"
                [minDate]="minDate"
                [showButtonBar]="true"
                #preferredDateTime="ngModel"
                [required]="true"
              >
                <!-- <ng-template pTemplate="date" let-date>
                  <span
                    [ngStyle]="{
                      textDecoration: date.day < 21 && date.day > 10 ? 'line-through' : 'inherit'
                    }"
                  >
                    {{ date.day }}
                  </span>
                </ng-template> -->
              </p-calendar>
              <label for="preferredDateTime"
                >Preffered Date and Time <span class="p-error">*</span></label
              >
            </span>
            <small
              class="p-error block"
              *ngIf="(preferredDateTime.touched || form.submitted) && preferredDateTime.invalid"
            >
              Please select date and time</small
            >
          </div>
          <div class="field col-12 md:col-4">
            <span class="p-float-label">
              <input
                type="text"
                id="comments"
                name="comments"
                [(ngModel)]="model.comments"
                #comments="ngModel"
                pInputText
              />
              <label for="comments">Comments</label>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="flex flex-wrap gap-2">
        <button
          pButton
          pRipple
          label="Save"
          class="p-button-raised p-button-success"
          icon="pi pi-save"
          [loading]="loading"
        ></button>
      </div>
    </div>
  </div>
</form>
